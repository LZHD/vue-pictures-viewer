(function(e){function t(t){for(var o,n,s=t[0],l=t[1],c=t[2],u=0,d=[];u<s.length;u++)n=s[u],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&d.push(a[n][0]),a[n]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);p&&p(t);while(d.length)d.shift()();return r.push.apply(r,c||[]),i()}function i(){for(var e,t=0;t<r.length;t++){for(var i=r[t],o=!0,s=1;s<i.length;s++){var l=i[s];0!==a[l]&&(o=!1)}o&&(r.splice(t--,1),e=n(n.s=i[0]))}return e}var o={},a={app:0},r=[];function n(t){if(o[t])return o[t].exports;var i=o[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=o,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/vue-pictures-viewer/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var p=l;r.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"0554":function(e,t,i){var o=i("96a4");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=i("499e").default;a("8de89716",o,!0,{sourceMap:!1,shadowMode:!1})},"0c3b":function(e,t,i){e.exports=i.p+"img/p2.51d50c03.jpg"},"1db9":function(e,t,i){e.exports=i.p+"img/c1.00b8d6c5.jpg"},4851:function(e,t,i){e.exports=i.p+"img/c2.66307f09.jpg"},"49ae":function(e,t,i){var o=i("76bc");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=i("499e").default;a("ad9317f2",o,!0,{sourceMap:!1,shadowMode:!1})},"56d7":function(e,t,i){"use strict";i.r(t);i("0c67"),i("450d");var o=i("299c"),a=i.n(o),r=(i("e260"),i("e6cf"),i("cca6"),i("a79d"),i("2b0e")),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content"},[i("h1",[e._v(e._s(e.title))]),i("p",[e._v("基于iv-viewer和element-ui的图片查看器")]),i("pictures-viewer",{attrs:{images:e.images}})],1)},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pictures-viewer",class:e.picturesViewer},[i("div",{staticClass:"pictures-viewer-panel"},[i("div",{staticClass:"pictures-viewer-panel-header"},[e.showOperate?i("div",{staticClass:"pictures-viewer-panel-header-operation"},[e.zoom?i("el-tooltip",{attrs:{content:e.getOptions.imageViewOptions.zoomInToolTip}},[i("span",{on:{click:e.zoomInImage}},[i("i",{staticClass:"el-icon-zoom-in"})])]):e._e(),e.zoom?i("el-tooltip",{attrs:{content:e.getOptions.imageViewOptions.zoomOutToolTip}},[i("span",{on:{click:e.zoomOutImage}},[i("i",{staticClass:"el-icon-zoom-out"})])]):e._e(),e.rotate?i("el-tooltip",{attrs:{content:e.getOptions.imageViewOptions.rotateLeftToolTip}},[i("span",{on:{click:function(t){return e.rotateImage(!1)}}},[i("i",{staticClass:"el-icon-refresh-left"})])]):e._e(),e.rotate?i("el-tooltip",{attrs:{content:e.getOptions.imageViewOptions.rotateRightToolTip}},[i("span",{on:{click:function(t){return e.rotateImage(!0)}}},[i("i",{staticClass:"el-icon-refresh-right"})])]):e._e(),e.reset?i("el-tooltip",{attrs:{content:e.getOptions.imageViewOptions.resetToolTip}},[i("span",{on:{click:function(t){return e.showImage()}}},[i("i",{staticClass:"el-icon-refresh"})])]):e._e(),e.fullscreen?i("el-tooltip",{attrs:{content:e.getOptions.imageViewOptions.fullScreenToolTip}},[i("span",{on:{click:e.fullscreenImage}},[i("i",{staticClass:"el-icon-full-screen"})])]):e._e(),e.download?i("el-tooltip",{attrs:{content:e.getOptions.imageViewOptions.downloadToolTip}},[i("span",{on:{click:e.downloadImage}},[i("i",{staticClass:"el-icon-download"})])]):e._e()],1):e._e()]),i("div",{staticClass:"pictures-viewer-panel-body",class:{"pictures-viewer-panel-body-has-footer":e.images.length>1}},[i("div",{staticClass:"pictures-viewer-panel-body-content"}),e.images.length>1?i("span",{staticClass:"pictures-viewer-panel-body-prev",on:{click:e.prevImage}},[i("i",{staticClass:"el-icon-arrow-left"})]):e._e(),e.images.length>1?i("span",{staticClass:"pictures-viewer-panel-body-next",on:{click:e.nextImage}},[i("i",{staticClass:"el-icon-arrow-right"})]):e._e()]),e.images.length>1?i("div",{staticClass:"pictures-viewer-panel-footer"},[e._v(" "+e._s(e.currentIndex+1)+" / "+e._s(e.imageTotal)+" ")]):e._e()])])},c=[],p=(i("99af"),i("4160"),i("159b"),i("96cf"),i("1da1")),u=i("543c"),d=i.n(u),f=(i("dafd"),{name:"PictureViewer",data:function(){return{ROTATE_ANGLE:90,imageViewer$:null,fullScreenViewer$:null,currentIndex:0,imageTotal:0,zoomValue:100,isVertical:!1,imageRotate:0}},props:{picturesViewer:{type:String},images:{type:Array,required:!0,default:function(){return[]}},defaultName:{type:String,default:"download"},options:{type:Object,default:function(){return{}}},showOperate:{type:Boolean,default:!0},zoom:{type:Boolean,default:!0},rotate:{type:Boolean,default:!0},reset:{type:Boolean,default:!0},fullscreen:{type:Boolean,default:!0},download:{type:Boolean,default:!0}},created:function(){this.imageTotal=this.images.length},mounted:function(){this.initImageViewer()},computed:{getOptions:function(){return Object.assign({imageViewOptions:{zoomInToolTip:"放大",zoomOutToolTip:"缩小",rotateLeftToolTip:"逆时针旋转",rotateRightToolTip:"顺时针旋转",resetToolTip:"重置",fullScreenToolTip:"全屏",downloadToolTip:"下载"},ivViewerOptions:{zoomValue:100,maxZoom:500,snapView:!0,refreshOnResize:!0,zoomOnMouseWheel:!0}},this.options)}},methods:{zoomInImage:function(){this.zoomValue+=10,this.imageViewer$.zoom(this.zoomValue)},zoomOutImage:function(){100!==this.zoomValue&&(this.zoomValue-=10,this.zoomValue<0&&(this.zoomValue=0),this.imageViewer$.zoom(this.zoomValue))},rotateImage:function(e){var t=this;this.beforeRotateImage().then((function(i){e?t.imageRotate+=t.ROTATE_ANGLE:t.imageRotate-=t.ROTATE_ANGLE,t.isVertical=!t.isVertical,i<=0?t.addImageRotate():setTimeout((function(){return t.addImageRotate()}),i)}))},fullscreenImage:function(){var e=this;this.beforeRotateImage().then((function(t){t<=0?(e.fullScreenViewer$.show(e.images[e.currentIndex]),e.addImageRotate(!1)):setTimeout((function(){e.fullScreenViewer$.show(e.images[e.currentIndex]),e.addImageRotate(!1)}),t)}))},downloadImage:function(){var e=document.createElement("a");e.setAttribute("download","".concat(this.defaultName,"-").concat(this.currentIndex+1)),e.setAttribute("display","none"),e.setAttribute("href",this.images[this.currentIndex]),e.setAttribute("target","_blank"),this.$el.appendChild(e),e.click(),this.$el.removeChild(e)},prevImage:function(){this.isVertical=!1,this.currentIndex--,this.currentIndex<0&&(this.currentIndex=this.imageTotal-1),this.showImage(),this.$emit("prev-change",this.currentIndex)},nextImage:function(){this.isVertical=!1,this.currentIndex++,this.currentIndex>this.imageTotal-1&&(this.currentIndex=0),this.showImage(),this.$emit("next-change",this.currentIndex)},initImageViewer:function(){this.imageViewer$=new d.a(this.$el.querySelector(".pictures-viewer-panel-body-content"),this.getOptions.ivViewerOptions),this.fullScreenViewer$=new u["FullScreenViewer"](this.getOptions.imageViewOptions),this.showImage()},addImageRotate:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i="";this.isVertical&&this.isImageOverVertical()&&(i="scale(".concat(this.getScale(),")"));var o="rotate(".concat(this.imageRotate,"deg)");t&&(this.addTransition("iv-snap-image"),this.addTransition("iv-small-image")),this.setImageRotate("iv-snap-image",o,i),this.setImageRotate("iv-small-image",o,i),setTimeout((function(){t&&(e.removeAnimation("iv-snap-image"),e.removeAnimation("iv-small-image"))}),500)},beforeRotateImage:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.zoomValue=100,i=e.imageViewer$._state.zoomValue-e.zoomValue,t.next=4,e.imageViewer$.resetZoom();case 4:return t.next=6,e.imageViewer$.refresh();case 6:return t.abrupt("return",0===i?0:500);case 7:case"end":return t.stop()}}),t)})))()},showImage:function(){this.imageRotate=0,this.isVertical=!1,this.imageViewer$.load(this.images[this.currentIndex])},isImageOverVertical:function(){var e=this.$el.clientHeight,t=this.$el.querySelector(".iv-small-image").clientWidth;return e<t+10},getScale:function(){var e=this.$el.querySelector(".pictures-viewer-panel-body-content").clientHeight,t=this.$el.querySelector(".iv-small-image").clientWidth,i=t-e;return i>=250&&i<300?i/e-.1:i>=300&&i<400?i/e-.15:i>=400?i/e-.32:i<0?1:.6},setStyle:function(e,t,i){var o=document.querySelectorAll(".".concat(e));o.forEach((function(e){return e.style.setProperty(t,i)}))},addTransition:function(e){this.setStyle(e,"transition","0.5s linear")},removeAnimation:function(e){this.setStyle(e,"transition","auto")},setImageRotate:function(e,t,i){this.setStyle(e,"transform","".concat(t," ").concat(i))}},destroyed:function(){this.imageViewer$&&(this.imageViewer$=this.imageViewer$.destroy()),this.fullScreenViewer$&&(this.fullScreenViewer$=this.fullScreenViewer$.destroy())}}),m=f,h=(i("5932"),i("2877")),g=Object(h["a"])(m,l,c,!1,null,"bf2917da",null),v=g.exports,w={name:"App",components:{PicturesViewer:v},data:function(){return{title:"vue-pictures-viewer",images:[i("1db9"),i("4851"),i("f3ea"),i("9e75"),i("0c3b"),i("d982")]}}},b=w,x=(i("5c0b"),Object(h["a"])(b,n,s,!1,null,null,null)),y=x.exports;r["default"].use(a.a),r["default"].config.productionTip=!1,new r["default"]({render:function(e){return e(y)}}).$mount("#app")},5932:function(e,t,i){"use strict";var o=i("49ae"),a=i.n(o);a.a},"5c0b":function(e,t,i){"use strict";var o=i("0554"),a=i.n(o);a.a},"76bc":function(e,t,i){var o=i("24fb");t=o(!1),t.push([e.i,"*[data-v-bf2917da],[data-v-bf2917da]:after,[data-v-bf2917da]:before{box-sizing:border-box}.pictures-viewer[data-v-bf2917da]{position:relative;line-height:1.5;font-family:Consolas,Menlo,Courier,monospace;text-align:left;color:rgba(0,0,0,.65);width:600px;height:450px}.pictures-viewer .pictures-viewer-panel[data-v-bf2917da]{width:100%;height:100%;font-size:12px;border:1px solid #d9d9d9;display:inline-block;border-radius:4px;vertical-align:middle;position:relative;padding-top:50px}.pictures-viewer .pictures-viewer-panel-header[data-v-bf2917da]{padding:8px 12px;height:50px;border-radius:4px 4px 0 0;border-bottom:1px solid #d9d9d9;overflow:hidden;position:absolute;top:0;left:0;width:100%;font-size:24px;line-height:33px}.pictures-viewer .pictures-viewer-panel-header-pdf[data-v-bf2917da]{position:absolute;left:12px}.pictures-viewer .pictures-viewer-panel-header-operation[data-v-bf2917da]{position:absolute;right:12px}.pictures-viewer .pictures-viewer-panel-header-operation span[data-v-bf2917da]{margin:0 3px}.pictures-viewer .pictures-viewer-panel-body[data-v-bf2917da]{height:100%;font-size:12px;position:relative}.pictures-viewer .pictures-viewer-panel-body .pictures-viewer-panel-body-next[data-v-bf2917da],.pictures-viewer .pictures-viewer-panel-body .pictures-viewer-panel-body-prev[data-v-bf2917da],.pictures-viewer .pictures-viewer-panel-body .switch[data-v-bf2917da]{position:absolute;top:50%;transform:translateY(-50%);font-size:24px}.pictures-viewer .pictures-viewer-panel-body .pictures-viewer-panel-body-next[data-v-bf2917da]:hover,.pictures-viewer .pictures-viewer-panel-body .pictures-viewer-panel-body-prev[data-v-bf2917da]:hover,.pictures-viewer .pictures-viewer-panel-body .switch[data-v-bf2917da]:hover{color:#ccc}.pictures-viewer .pictures-viewer-panel-body-prev[data-v-bf2917da]{left:12px}.pictures-viewer .pictures-viewer-panel-body-next[data-v-bf2917da]{right:12px}.pictures-viewer .pictures-viewer-panel-body-content[data-v-bf2917da]{padding:0;overflow:hidden;height:100%}.pictures-viewer .pictures-viewer-panel-body-has-footer[data-v-bf2917da]{padding-bottom:50px}.pictures-viewer .pictures-viewer-panel-footer[data-v-bf2917da]{height:50px;border-radius:0 0 4px 4px;border-top:1px solid #d9d9d9;overflow:hidden;position:absolute;bottom:0;left:0;width:100%;font-size:16px;text-align:center;line-height:50px;background-color:#cacaca}[data-v-bf2917da] .iv-loader{border-top:1.1em solid rgba(0,0,0,.7);border-right:1.1em solid rgba(36,239,43,.7);border-bottom:1.1em solid rgba(254,202,55,.7);border-left:1.1em solid rgba(254,207,219,.7)}",""]),e.exports=t},"96a4":function(e,t,i){var o=i("24fb");t=o(!1),t.push([e.i,".content{width:100%;display:flex;flex-direction:column;align-items:center;text-align:center}",""]),e.exports=t},"9e75":function(e,t,i){e.exports=i.p+"img/p1.1c1edbf2.jpg"},d982:function(e,t,i){e.exports=i.p+"img/p3.69a97386.jpg"},f3ea:function(e,t,i){e.exports=i.p+"img/c3.565a5d8e.jpg"}});